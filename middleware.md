# マストドンを活用する

マストドンは、**分散型**のSNSであり、**ローカルタイムライン**という非常に**文脈が強い**機能を備えています。
現在、多くのWebサービスが、ユーザの行動をきっかけに**Twitterに自動投稿**をする機能[^1]を備えていますが、
文脈の強すぎるマストドンに同じような自動投稿をしても基本的に上手くいきません。
同様のことが企業公式アカウントなど、宣伝目的が強いアカウントにも言えます。
マストドンの世界はビジネスに向かないのでしょうか?
そうとも限らないと思います。

マストドン世界に対して情報発信するには、マストドンの特徴をきちんと理解しなければ上手くいきません。
分散型SNSという特徴を活かし、**情報はサービス側が発信し、それを外からリモートフォロー**できるようにするべきです。
つまり、サービス側が**OStatus/ActivityPubを実装**し、ユーザの行動履歴や、デイリーランキングなどの情報を**自分自身がOStatus/ActivityPubで発信**するのです。
ユーザは、自分が興味のある情報を、**普段自分が使っているインスタンス**からリモートフォローします。

具体例を出しましょう。
**例のアレ毎時ランキングを投稿するBot**が、
自分が使っている平和なインスタンスのLTLに1時間に1回自動投稿したら**控えめに言って地獄**です。
しかし、別のインスタンスでそのBotが動いていたら、**本当にその情報を必要としている人**、つまり**熱心なファン**は、リモートフォローしてホームタイムラインで読みたくなるでしょう。
重要なのは、どれだけ熱心なファンでも**自分のインスタンスのLTLに出てくるのは歓迎しない**ということです。

この構造の重要なポイントは、**リモートフォローするほどの熱心なファン**が可視化できるという点です。
熱心で、情報を求める本気度が高く、忠誠心が高く、**購買意欲が高い**ファンです。
下手な鉄砲を数撃ちっぱなしが通用した時代は過ぎ去ろうとしています。
マストドンは、新しい時代の宣伝手法を**強制される**プラットフォームと言えるかもしれません。

企業はぜひ**Closedな自前のインスタンス**を持つべきです。
その中で、宣伝アカウントや、社員ひとりひとりのアカウントを運用します。
自前ドメインでClosedなマストドンを運用すれば、
そこにいるアカウントはすべて**本物のアカウント**であることが証明できます。
ブランド力があれば、**そのインスタンスにアカウントを持つこと**が憧れの対象になり、
採用に貢献したり更にブランド力を高めることに繋がるでしょう。
限られたアカウント数なので、**サーバリソースはそれほど必要ない**というのも重要なポイントです。

たとえば、**電撃文庫の作家と編集者だけが登録できるインスタンス**とかあったらめっちゃ外からフォローしたいよね、と言えばなるほどと思うのではないでしょうか。

## マストドンミドルウェア説

サービスにOStatus/ActivityPubを実装するのは、おそらく非常に大変です。
なので、バックエンドに自前で立てた専用のマストドンを置き、サービスからそのマストドンに自動投稿し、OStatusを肩代わりさせる、という方法が最もシンプルで確実に実現できるでしょう。
これを**マストドンミドルウェア説**と言います。

必要なのはID体系を適切に設計することだけです。
ミドルウェアとして使うなら、ユーザがログインできる必要はありません。
ユーザ作成を自動化してアクセストークンを取得するか、
もしくはコードをいじってアカウントIDを指定してAPIが叩けるようにしても良いかもしれません。

基本的にAPIサーバとSidekiqだけ動いていればいいでしょう。
フロントエンドはおろか、Streamingサーバも必要ありません。
リアルタイム性も問われないので、Sidekiqがそれなりに捌けていればサーバリソースは十分です。
おそらくある程度は単体のDockerで動かすことも可能で、ミドルウェアとして十分可能性があります。
今後はこちらの啓蒙活動もしていきたいなぁと思います。

[^1]: 例えば 「動画を投稿しました http://nico.ms/ms9」 など
